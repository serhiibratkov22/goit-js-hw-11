{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// Імпорт бібліотеки axios для виконання HTTP-запитів\nimport axios from 'axios';\n// Базова адреса API Pixabay\nconst BASE_URL = 'https://pixabay.com/api/';\n// API-ключ для доступу до Pixabay API\nconst API_KEY = '50348782-72c1d2cf6f33e6e33f09bb691';\n// Базова адреса для всіх axios-запитів\naxios.defaults.baseURL = BASE_URL;\n// Заголовки для запитів\naxios.defaults.params = {\n  key: API_KEY,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nexport async function getImagesByQuery(query) {\n  const response = await axios.get('', { params: { q: query } });\n  return response.data.hits;\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 200,\n});\n\nexport function createGallery(images, galleryElem) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        type,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"gallery-item js-gallery-item\">\n  <a class=\"gallery-link js-gallery-link\" href=\"${largeImageURL}\">\n    <div class=\"image-wrapper\">\n      <img\n        class=\"gallery-image js-gallery-image\"\n        src=\"${webformatURL}\"\n        data-source=\"${type}\"\n        alt=\"${tags}\"\n      />\n    </div>\n\n  <div>\n    <ul class=\"wrapper-box\">\n      <li class=\"list-item\">\n        <p class=\"value-title\">Likes</p>\n        <p class=\"label\" data-likes>${likes}</p>\n      </li>\n      <li class=\"list-item\">\n        <p class=\"value-title\">Views</p>\n        <p class=\"label\" data-views>${views}</p>\n      </li>\n      <li class=\"list-item\">\n        <p class=\"value-title\">Comments</p>\n        <p class=\"label\" data-comments>${comments}</p>\n      </li>\n      <li class=\"list-item\">\n        <p class=\"value-title\">Downloads</p>\n        <p class=\"label\" data-downloads>${downloads}</p>\n      </li>\n    </ul>\n  </div>\n  </a>\n</li>`\n    )\n    .join('');\n  galleryElem.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\nexport function clearGallery(galleryElem) {\n  galleryElem.innerHTML = '';\n}\n\nexport function showLoader(loaderElem) {\n  loaderElem.classList.remove('is-hidden');\n}\n\nexport function hideLoader(loaderElem) {\n  loaderElem.classList.add('is-hidden');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n  createGallery,\n  showLoader,\n  hideLoader,\n  clearGallery,\n} from './js/render-functions';\n\n// 🔍 DOM-елементи\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader'); // переконайся, що є елемент з класом loader\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n  const query = event.currentTarget.elements['search-text'].value.trim();\n\n  if (!query) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search query!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery(gallery);\n  showLoader(loader);\n\n  try {\n    const images = await getImagesByQuery(query);\n\n    if (images.length === 0) {\n      iziToast.error({\n        title: 'No Results',\n        message: 'No images found. Try a different search.',\n        position: 'topRight',\n      });\n    } else {\n      createGallery(images, gallery);\n    }\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Something went wrong. Please try again later.',\n      position: 'topRight',\n    });\n    console.error(error);\n  } finally {\n    hideLoader(loader);\n  }\n});\n"],"names":["BASE_URL","API_KEY","axios","getImagesByQuery","query","lightbox","SimpleLightbox","createGallery","images","galleryElem","markup","webformatURL","largeImageURL","type","tags","likes","views","comments","downloads","clearGallery","showLoader","loaderElem","hideLoader","form","gallery","loader","event","iziToast","error"],"mappings":"owBAGA,MAAMA,EAAW,2BAEXC,EAAU,qCAEhBC,EAAM,SAAS,QAAUF,EAEzBE,EAAM,SAAS,OAAS,CACtB,IAAKD,EACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEO,eAAeE,EAAiBC,EAAO,CAE5C,OADiB,MAAMF,EAAM,IAAI,GAAI,CAAE,OAAQ,CAAE,EAAGE,CAAO,CAAA,CAAE,GAC7C,KAAK,IACvB,CChBA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQC,EAAa,CACjD,MAAMC,EAASF,EACZ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,kDAC0CN,CAAa;AAAA;AAAA;AAAA;AAAA,eAIhDD,CAAY;AAAA,uBACJE,CAAI;AAAA,eACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAQmBC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAIFC,CAAQ;AAAA;AAAA;AAAA;AAAA,0CAIPC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,MAM9C,EACA,KAAK,EAAE,EACVT,EAAY,mBAAmB,YAAaC,CAAM,EAClDL,EAAS,QAAO,CAClB,CAEO,SAASc,EAAaV,EAAa,CACxCA,EAAY,UAAY,EAC1B,CAEO,SAASW,EAAWC,EAAY,CACrCA,EAAW,UAAU,OAAO,WAAW,CACzC,CAEO,SAASC,EAAWD,EAAY,CACrCA,EAAW,UAAU,IAAI,WAAW,CACtC,CC1DA,MAAME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAU,MAAMG,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMtB,EAAQsB,EAAM,cAAc,SAAS,aAAa,EAAE,MAAM,OAEhE,GAAI,CAACtB,EAAO,CACVuB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDR,EAAaK,CAAO,EACpBJ,EAAWK,CAAM,EAEjB,GAAI,CACF,MAAMjB,EAAS,MAAML,EAAiBC,CAAK,EAEvCI,EAAO,SAAW,EACpBmB,EAAS,MAAM,CACb,MAAO,aACP,QAAS,2CACT,SAAU,UAClB,CAAO,EAEDpB,EAAcC,EAAQgB,CAAO,CAEhC,OAAQI,EAAO,CACdD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,UAChB,CAAK,EACD,QAAQ,MAAMC,CAAK,CACvB,QAAY,CACRN,EAAWG,CAAM,CAClB,CACH,CAAC"}